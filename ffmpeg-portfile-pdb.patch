diff --git a/ports/ffmpeg/0006-generate-pdb.patch b/ports/ffmpeg/0006-generate-pdb.patch
new file mode 100644
index 000000000..af4069a83
--- /dev/null
+++ b/ports/ffmpeg/0006-generate-pdb.patch
@@ -0,0 +1,13 @@
+diff --git a/configure b/configure
+index 31a3744dc6..4d43d60bc1 100755
+--- a/configure
++++ b/configure
+@@ -4399,7 +4399,7 @@ msvc_common_flags(){
+             -std=c99)             ;;
+             # Common flags
+             -fomit-frame-pointer) ;;
+-            -g)                   echo -Z7 ;;
++            -g)                   echo -Zi ;;
+             -fno-math-errno)      ;;
+             -fno-common)          ;;
+             -fno-signed-zeros)    ;;
diff --git a/ports/ffmpeg/portfile.cmake b/ports/ffmpeg/portfile.cmake
index 71bea6e95..c1480a8d8 100644
--- a/ports/ffmpeg/portfile.cmake
+++ b/ports/ffmpeg/portfile.cmake
@@ -12,6 +12,7 @@ vcpkg_from_github(
         0003-fix-windowsinclude.patch
         0004-fix-debug-build.patch
         0005-fix-libvpx-linking.patch
+        0006-generate-pdb.patch
 )
 
 if (${SOURCE_PATH} MATCHES " ")
